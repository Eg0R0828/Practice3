main.py - основной код программы
		(прием изображения, обработка, сохранение, обновление датасетов изобр-й для последующего обучения каскадов Хаара по желанию польз-ля);

preparation.py - код обновления датасетов обучающих изображений;


Приложение осуществляет поиск мест на плате, где отсутствует тот или иной элемент.
Датасет "правильных" плат (где нет никаких объектов для поиска) формируется из набора фотографий плат путем разделения их на несколько частей и перевода их в черно-белый формат.
Запущенный отдельно файл "preparation.py" обновит все датасеты автоматически. Также эта процедура выполняется после пополнения выборок самим приложением.
Исходные файлы правильных плат хранятся в ./Resources/All_right/.

Рекомендуется иметь для обуч-я каждого каскада мин. 400-500 изображений, где нет искомых объектов (правильные платы, Bad examples)
и мин. по 200-250 (примерно в 2 раза меньше) изображений отсутствия того или иного элемента платы для тренировки каждого соответствующего каскада (Good examples).
Хорошие примеры (в данном случае изображения, содержащие места пропуска элемента) получены простым переводом изображений из ./Resources/Missing_[назв. эл-та]/ в черно-белый формат.
Каскады Хаара анализируют изображения с одним цветовым каналом, поэтому всё переводится в черно-белый формат.


Преобразованные программой изображения (в рамках обновления датасетов) записываются в следующие папки:
Плохие примеры (не им. искомых объектов, правильные платы - разделенные на части и обесцвеченные, чтобы выборка насчитывала несколько сотен образцов) записываются в
	./[название элемента]/Bad/;
Информация (просто относительные пути) о каждом изображении записываются в информационный файл
	./[название эл-та]/Bad.dat;
Хорошие примеры (!!! рекомендуется, чтобы на каждом таком изображении присутствовал только ОДИН искомый объект; в данном случае, одно изобр-е - одно место пропуска нужной детали !!!)
записываются в
	./[назв. эл-та]/Good/;
Информация о каждом примере (отн. пути, количество примеров на изобр-ии (у нас 1), координаты верхнего левого и правого нижнего углов объекта на изображении) записывается в
	./[назв. эл-та]/Good.dat;
Прим.: Хорошие примеры для удобства занимают всё изображение, поэтому в кач-ве координат искомого объекта на примере указываются просто параметры картинки, например, 0 0 80 80.


После обновления обучающих датасетов небходимо подготовить вектор "хороших" примеров. Для каждого каскада это делается командами типа:
Пример для конденсатора:
[АБС. ПУТЬ ДО ПРОЕКТА]/OpenCV_utilities/opencv_createsamples.exe	# обяз. абс. путь до утилиты сборки вектора
				-info ./capacitor/Good.dat		# путь до информ. файла (можно относительный)
				-vec ./capacitor/samples.vec		# путь до создаваемого вектора (тоже можно относительный)
						-w 40 -h 40		# размеры итоговых примеров в векторе (нужно подобрать наименьший размер,
									  но такой чтобы человек сам еще мог различить объект !!!)

Далее необходимо ввести команды для обучения каскадов Хаара (которые непосредственно будут использ. программой при поиске пропусков деталей):
(!!! Выполнение этих команд может занять от нескольких часов до нескольких дней, в завис-ти от размеров выборок !!!)
Пример для конденсатора:
[АБС. ПУТЬ ДО ПРОЕКТА]/OpenCV_utilities/opencv_traincascade.exe		# обяз. абс. путь до утилиты обучения каскада
				-data ./capacitor/haarcascade		# путь до папки, в которой будет помещен каскад со вспомогательными файлами
				-vec ./capacitor/samples.vec		# путь до вектора положит. изображений
				-bg ./capacitor/Bad.dat			# путь до информационного файла "плохих примеров"
				-numStages 16				# количество стадий обучения (больше - точнее, но рекомендуется ставить 16-25)
				-maxFalseAlarmRate 0.4			# "коэффициент ложных срабатываний" (по умолчанию - 0.5), значение выше - обнаружится больше ложных объектов
				-numPos 200				# количество положит. примеров из вектора, которые будут использ. при обучении
									  (некоторые могут быть неподходящими, поэтому рекомендуется брать около 80% от всего вектора,
									  например, здесь - 200 из 240)
				-numNeg 400				# количество всех негативных примеров
				-w 40 -h 40				# размеры сжатых примеров (точно такие же, как и в предыд. команде)
				-mode ALL				# использовать или нет полный комплект Хаар-признаков
		-precalcValBufSize 2048 -precalcIdxBufSize 2048		# выделяемая под процесс память

Прим.: перед обучением нового каскада следует очистить папку со старой его версией (т. к. утилита OpenCV вместо создания нового будет пытаться дообучить старый).


